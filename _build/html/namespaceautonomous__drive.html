<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Software Architecture for Mobile Robot Control: autonomous_drive Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Software Architecture for Mobile Robot Control
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">Architecture is developed on ROS and its software capable of controlling a mobile robot in given enviroment along with creating a multiple modes for the user in which user allow to choose how to control the robot.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">autonomous_drive Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adb1a4401abc25d9f39a9c756f0e5ba4e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceautonomous__drive.html#adb1a4401abc25d9f39a9c756f0e5ba4e">refresh_variables</a> ()</td></tr>
<tr class="separator:adb1a4401abc25d9f39a9c756f0e5ba4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02054103f62ea784d400cb4060dff703"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceautonomous__drive.html#a02054103f62ea784d400cb4060dff703">CallBack_odometry</a> (msg)</td></tr>
<tr class="separator:a02054103f62ea784d400cb4060dff703"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01c053da76775a7077ac3fa02610ab6a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceautonomous__drive.html#a01c053da76775a7077ac3fa02610ab6a">CallBack</a> (status, result)</td></tr>
<tr class="separator:a01c053da76775a7077ac3fa02610ab6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad596380351193894e48f76137469503a"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceautonomous__drive.html#ad596380351193894e48f76137469503a">action_client_set_goal</a> ()</td></tr>
<tr class="separator:ad596380351193894e48f76137469503a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2620136798b5db050411e38994960396"><td class="memItemLeft" align="right" valign="top"><a id="a2620136798b5db050411e38994960396"></a>
def&#160;</td><td class="memItemRight" valign="bottom"><b>action_client_init</b> ()</td></tr>
<tr class="separator:a2620136798b5db050411e38994960396"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a14c4ae40dffe61826b28e5461cecd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceautonomous__drive.html#a05a14c4ae40dffe61826b28e5461cecd">CallBack_reset</a> (event)</td></tr>
<tr class="separator:a05a14c4ae40dffe61826b28e5461cecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28d8f673172c80c30feab545f47e5972"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceautonomous__drive.html#a28d8f673172c80c30feab545f47e5972">main</a> ()</td></tr>
<tr class="separator:a28d8f673172c80c30feab545f47e5972"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a198a2b15e70c2b458d0f647325d8bd3a"><td class="memItemLeft" align="right" valign="top"><a id="a198a2b15e70c2b458d0f647325d8bd3a"></a>
string&#160;</td><td class="memItemRight" valign="bottom"><b>state</b> = &quot; &quot;</td></tr>
<tr class="separator:a198a2b15e70c2b458d0f647325d8bd3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe7bf9a31a43b763f37bddad2457c4d8"><td class="memItemLeft" align="right" valign="top"><a id="abe7bf9a31a43b763f37bddad2457c4d8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><b>goalf</b> = False</td></tr>
<tr class="separator:abe7bf9a31a43b763f37bddad2457c4d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">.. module:: autonomous_drive
    :platform: Unix
    :synopsis: Python module for autonomous_drive mode.
.. moduleauthor:: Ankur Kohli

Action client:
    /move_base
    
This node is called the autonomous_driving node that allows the robot to reach a specified position provided by user.

Regarding on the input of the user, those inputs will be sent as a goal to the action server /move_base. 

During the movement, the robot sends feedback regarding status of the goal either reached or cancelled with publishers like /move_base/goal or /move_base/cancel respectively. The robot can create a map with help of gmapping. User is also able
to cancel the goal, and provide a new one. 

Subscribes to:
 /nav_msgs/odometry topic where the simulator publishes the robot position.
 
Action:
 MoveBaseAction
 MoveBaseGoal
 
The Action Client-Service communicate via a "ROS Action Protocol", which is built on top of ROS messages. The client and server then provide a simple API for users to request goals (on the client side) or to execute goals (on the server side) via function calls and callbacks. 

Through out the coding of this node I implemented only the *Actionclient* side of the whole structure using the already existing server of the following action messages:

* ``MoveBaseAction``
* ``MoveBaseGoal``
 
The Actionlib feature, an ActionServer receives the goal message from an ActionClient. In the case of this assignment, the goal is to move the robot's base position. The goal would be a MoveBaseGoal message that contains information about where the robot should move to in the world. For controlling all the robot positions in space, the goal would contain the *target_pose* parameters (stamp, orientation, target position, etc).</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="ad596380351193894e48f76137469503a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad596380351193894e48f76137469503a">&#9670;&nbsp;</a></span>action_client_set_goal()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def autonomous_drive.action_client_set_goal </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">This function will set the goal

No Args 

No returns
</pre> 
</div>
</div>
<a id="a01c053da76775a7077ac3fa02610ab6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01c053da76775a7077ac3fa02610ab6a">&#9670;&nbsp;</a></span>CallBack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def autonomous_drive.CallBack </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>result</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Arguments status and result states that actionlib_goalStatus and MoveBaseResult

Args:
 status (actionlib_goalStatus): integer code corrisponding to the terminal state.
 result (MoveBaseResult): result of the goal processing.
 
No Returns
</pre> 
</div>
</div>
<a id="a02054103f62ea784d400cb4060dff703"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02054103f62ea784d400cb4060dff703">&#9670;&nbsp;</a></span>CallBack_odometry()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def autonomous_drive.CallBack_odometry </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Here, the arguement msg (/odom.msg): this will hold the present position of the robot in
the enviroment in the terms of x and y

Args:
 msg (/odom.msg): this variable will contain the current x/y position of the robot in
 the enviroment.
 
 No Returns
</pre> 
</div>
</div>
<a id="a05a14c4ae40dffe61826b28e5461cecd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a05a14c4ae40dffe61826b28e5461cecd">&#9670;&nbsp;</a></span>CallBack_reset()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def autonomous_drive.CallBack_reset </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>event</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">event is time variable

active_ is the parameter which will set to 0 and this resets whole state of the
operations

Args:
 event (float) : for time variable 

No Returns
</pre> 
</div>
</div>
<a id="a28d8f673172c80c30feab545f47e5972"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28d8f673172c80c30feab545f47e5972">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def autonomous_drive.main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">In main(), robot's behaviour will constantly supervised. While loop will start spin 
right away when the CallBack function subscribed and the node is initialized. During the 
loop execution node will call the last defined functions as per the present state of the 
robot defined by the user using global parameters variables. Lastly, it will display the 
excution states as well.

Fetching the values from the Parameter Server. We can also optionally pass in a default 
value to use if the parameter is not set

No returns
</pre> 
</div>
</div>
<a id="adb1a4401abc25d9f39a9c756f0e5ba4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb1a4401abc25d9f39a9c756f0e5ba4e">&#9670;&nbsp;</a></span>refresh_variables()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def autonomous_drive.refresh_variables </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">gloabal keyword allows us to modify the variable outside of the current scope. It is 
used to create a global variable and make   changes to the variable in a local context.

No Args 

No Returns
</pre> 
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
